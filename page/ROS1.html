<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1 id="ros学习笔记1">ROS学习笔记1</h1>
    <hr />
    <h2 id="ros文件系统操作">ROS文件系统操作</h2>
    <ol type="1">
      <li>
        <p>rospack 命令获取软件包有关信息</p>
        <pre class="shell"><code>$ rospack find [package_name]</code></pre>
      </li>
      <li>
        <p>roscd 允许直接切换目录到某个软件包或软件包集中</p>
        <pre class="shell"><code>$ roscd [locationname[/subdir]]
$ # 进入存储ros日志文件的目录
$ roscd log</code></pre>
      </li>
      <li>
        <p>rosls 直接按软件包名称执行ls命令（而不用绝对路径）</p>
        <div class="sourceCode" id="cb3">
          <pre
            class="sourceCode sh"
          ><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rosls [locationname[/subdir]]</span></code></pre>
        </div>
      </li>
    </ol>
    <h2 id="ros-节点">ROS 节点</h2>
    <ol type="1">
      <li>
        <a href="https://wiki.ros.org/cn/ROS/Concepts#ROS.2Bi6F7l1b.2BXEJrIQ-"
          >计算图（Computation Graph）</a
        >是一个由ROS进程组成的点对点网络，它们能够共同处理数据。ROS的基本计算图概念有节点（Nodes）、主节点（Master）、参数服务器（Parameter
        Server）、消息（Messages）、服务（Services）、话题（Topics）和袋（Bags），它们都以不同的方式向图（Graph）提供数据。
      </li>
    </ol>
    <ul>
      <li>
        <a href="https://wiki.ros.org/Nodes">节点（Nodes）</a
        >：节点是一个可执行文件，它可以通过ROS来与其他节点进行通信。
        (类比godot中的节点)
      </li>
      <li>
        <a href="https://wiki.ros.org/Messages">消息（Messages）</a
        >：订阅或发布话题时所使用的ROS数据类型。
      </li>
      <li>
        <a href="https://wiki.ros.org/Topics">话题（Topics）</a
        >：节点可以将消息<em>发布</em>到话题，或通过<em>订阅</em>话题来接收消息。
      </li>
      <li>
        <a href="https://wiki.ros.org/Master">主节点（Master）</a
        >：ROS的命名服务，例如帮助节点发现彼此。
      </li>
      <li>
        <a href="https://wiki.ros.org/rosout">rosout</a
        >：在ROS中相当于<code>stdout/stderr（标准输出/标准错误）</code>。
      </li>
      <li>
        <a href="https://wiki.ros.org/roscore">roscore</a>：主节点 + rosout +
        <a href="https://wiki.ros.org/Parameter%20Server">参数服务器</a
        >（会在以后介绍）。
      </li>
    </ul>
    <ol start="2" type="1">
      <li>ROS客户端库可以让用不同编程语言编写的节点进行相互通信：</li>
    </ol>
    <ul>
      <li>rospy = Python客户端库</li>
      <li>roscpp = C++客户端库</li>
    </ul>
    <hr />
    <p>
      当打开一个新的终端时，环境将会重置，<code>~/.bashrc</code>文件将会生效。如果你在运行<code>rosnode</code>等命令时出现一些问题，那么可能需要将一些环境设置文件添加到<code>~/.bashrc</code>或手动<code>source</code>一下。
    </p>
    <hr />
    <ol start="3" type="1">
      <li>
        <p><code>roscore</code>是你在运行所有ROS程序前首先要运行的命令。</p>
        <p>请运行：</p>
      </li>
    </ol>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode sh"
      ><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> roscore</span></code></pre>
    </div>
    <ol start="4" type="1">
      <li>
        rosnode 显示当前正在运行的节点信息 rosnode
        list会列出这些活动的节点（rosout节点用于收集记录节点的调试输出，是一个常开节点）
      </li>
      <li>rosrun直接使用包名运行包内节点（不用知道其路径）</li>
    </ol>
    <h2 id="ros-话题">ROS 话题</h2>
    <ol type="1">
      <li><p>节点与节点之间通过话题来通信。</p></li>
      <li>
        <p>rqt_graph显示当前运行的节点和话题</p>
        <div class="sourceCode" id="cb5">
          <pre
            class="sourceCode sh"
          ><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rosrun rqt_graph rqt_graph</span></code></pre>
        </div>
      </li>
      <li>
        <p>rostopic获取ROS话题的信息</p>
        <pre class="shell"><code>$ rostopic echo [topic]</code></pre>
      </li>
      <li>
        <p><code>rostopic list</code>能够列出当前已被订阅和发布的所有话题。</p>
      </li>
      <li>
        <p>
          话题的通信是通过节点间发送ROS<strong>消息</strong>实现的。为了使发布者和订阅者进行通信，发布者和订阅者必须发送和接收相同<strong>类型</strong>的消息。这意味着话题的<strong>类型</strong>是由发布在它上面消息的<strong>类型</strong>决定的
        </p>
        <p>
          使用<code>rostopic type</code
          >命令可以查看发布在话题上的消息的<strong>类型</strong>;
        </p>
        <p>
          <code>rostopic pub</code>可以把数据发布到当前某个正在广播的话题上。
        </p>
        <p><code>rostopic hz</code>报告数据发布的速率</p>
        <p>
          <code>rqt_plot</code
          >命令可以在滚动时间图上显示发布到某个话题上的数据。
        </p>
        <div class="sourceCode" id="cb8">
          <pre
            class="sourceCode sh"
          ><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rosrun rqt_plot rqt_plot</span></code></pre>
        </div>
      </li>
    </ol>
  </body>
</html>
